<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Hello, WebVR! • A-Frame</title>
        <meta name="description" content="Hello, WebVR! • A-Frame">
        <script src="./js/libs/aframe-v1.0.4.min.js"></script>
        <script src="./js/libs/aframe-template-component.min.js"></script>
        <script src="./js/libs/aframe-look-at-component-0.8.0.min.js"></script>
        <script src="./js/libs/aframe-animation-timeline-component.min.js"></script>
        <script src="./js-dist/bundle.js"></script>

        <link rel="stylesheet" href="./assets/css/bundle.css">

        <!-- data -->

    </head>
    <body>
        <a-scene debug background="color: #000" vr-mode-ui="enabled: false">
            <a-assets>
                <!-- PCD -->
                <a-asset-item id="city-pcd" src="./assets/scenes/0_introduction/pcd/city4.pcd" response-type="arraybuffer"></a-asset-item>

                <a-asset-item id="house-pcd" src="./assets/models/main_object(house1).pcd" response-type="arraybuffer"></a-asset-item>
                <a-asset-item id="graffiti-pcd" src="./assets/models/graffiti1_55k_verts.pcd" response-type="arraybuffer"></a-asset-item>
                <a-asset-item id="car-pcd" src="./assets/models/thecar_80k_verts.pcd" response-type="arraybuffer"></a-asset-item>
                <!-- SOUND -->
                <audio id="click-mp3" src="./assets/sound/click.mp3" preload="auto" crossorigin="anonymous"></audio>
                <audio id="doctor-mp3" src="./assets/sound/doctor.mp3" preload="auto" crossorigin="anonymous"></audio>
                <audio id="voice1-mp3" src="./assets/sound/speechtest.mp3" preload="auto"crossorigin="anonymous"></audio>

            </a-assets>

            <!-- interaction -->
            <a-entity id="keyboard-emitter" keyboard-event-emitter></a-entity>

            <!-- sound -->
            <a-sound id="ambience-player" src="null" positional="false"></a-sound>
            <a-sound id="voiceover-player" src="null" positional="false"></a-sound>

            <!-- scene objects -->
            <!-- always set scene objects parameters in the template file -->
            <!-- <a-entity id="main"
                 template="src: ./assets/scenes/scene1/main-object.template"
                 position="0 0 0"
                 template-changer="interactionEmitterId: #story-ui;
                 interactionEvent: advance_story;
                 templatePathKind: background;
                 parseAudio: false">
                 </a-entity> -->

            <a-entity id="template_changer"
                      template="src: ./assets/scenes/0_introduction/introduction.template"
                      template-changer="interactionEmitterId: #story-ui;
                                        interactionEvent: advance_story;
                                		templatePathKind: foreground;
            							parseAudio: true;
                                		audioPlayersIDs: #ambience-player, #voiceover-player;
                                		audioKinds: audio-ambient, audio-voiceover">

            </a-entity>

            <!-- main camera -->
            <a-entity id="rig" geometry="primitive: box" look-at="#template_changer" position="-9 12 15">
                <a-entity id="overview-camera" camera="zoom: 2;" rotation="0 180 0"></a-entity>
            </a-entity>
        </a-scene>
    </body>
</html>
